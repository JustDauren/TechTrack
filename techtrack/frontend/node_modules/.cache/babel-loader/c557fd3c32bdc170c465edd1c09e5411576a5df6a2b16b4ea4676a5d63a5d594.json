{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Dauren\\\\PycharmProjects\\\\techtrack\\\\techtrack\\\\frontend\\\\src\\\\pages\\\\Dashboard.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Calendar, Wrench, Sun, Cloud, CloudRain, Plus } from 'lucide-react';\nimport { useAppSelector, useAppDispatch } from '../store/hooks';\nimport { fetchTasks } from '../store/slices/tasksSlice';\nimport { fetchEquipment } from '../store/slices/equipmentSlice';\nimport Card from '../components/ui/Card';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Dashboard = () => {\n  _s();\n  const navigate = useNavigate();\n  const dispatch = useAppDispatch();\n  const {\n    user\n  } = useAppSelector(state => state.auth);\n  const {\n    city: currentCity\n  } = useAppSelector(state => state.ui);\n  const {\n    tasks,\n    loading: tasksLoading\n  } = useAppSelector(state => state.tasks);\n  const {\n    equipment,\n    loading: equipmentLoading\n  } = useAppSelector(state => state.equipment);\n\n  // Mock weather data (would come from API in real app)\n  const [weatherData, setWeatherData] = useState([{\n    day: 'Сегодня',\n    temp: '22°C',\n    icon: 'sun'\n  }, {\n    day: 'Завтра',\n    temp: '20°C',\n    icon: 'sun'\n  }, {\n    day: 'Пт',\n    temp: '18°C',\n    icon: 'cloud'\n  }, {\n    day: 'Сб',\n    temp: '17°C',\n    icon: 'cloud-rain'\n  }, {\n    day: 'Вс',\n    temp: '19°C',\n    icon: 'cloud'\n  }]);\n\n  // Filter tasks for current city\n  const cityTasks = tasks.filter(task => task.city === currentCity);\n\n  // Filter equipment for current city\n  const cityEquipment = equipment.filter(eq => eq.city === currentCity);\n  useEffect(() => {\n    // Fetch tasks and equipment when the component mounts\n    dispatch(fetchTasks());\n    dispatch(fetchEquipment());\n  }, [dispatch]);\n\n  // Function to render weather icon\n  const renderWeatherIcon = icon => {\n    switch (icon) {\n      case 'sun':\n        return /*#__PURE__*/_jsxDEV(Sun, {\n          size: 20,\n          className: \"text-yellow-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 16\n        }, this);\n      case 'cloud':\n        return /*#__PURE__*/_jsxDEV(Cloud, {\n          size: 20,\n          className: \"text-gray-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 16\n        }, this);\n      case 'cloud-rain':\n        return /*#__PURE__*/_jsxDEV(CloudRain, {\n          size: 20,\n          className: \"text-blue-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 16\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(Sun, {\n          size: 20,\n          className: \"text-yellow-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 16\n        }, this);\n    }\n  };\n\n  // Безопасное отображение данных оборудования\n  const renderEquipmentInfo = equipment => {\n    if (!equipment) return 'Не указано';\n\n    // Если equipment - это объект с нужными свойствами\n    if (typeof equipment === 'object' && 'name' in equipment && 'serial_number' in equipment) {\n      return `${equipment.name} (${equipment.serial_number})`;\n    }\n\n    // Если equipment - это строка (ID или название)\n    if (typeof equipment === 'string') {\n      return equipment;\n    }\n    return 'Не указано';\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-3\",\n    children: [/*#__PURE__*/_jsxDEV(Card, {\n      className: \"mb-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-sm font-medium mb-2\",\n        children: [\"\\u041F\\u0440\\u043E\\u0433\\u043D\\u043E\\u0437 \\u043F\\u043E\\u0433\\u043E\\u0434\\u044B \\u0432 \", currentCity]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between\",\n        children: weatherData.map((day, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs mb-1\",\n            children: day.day\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 15\n          }, this), renderWeatherIcon(day.icon), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs mt-1\",\n            children: day.temp\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 15\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      className: \"mb-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between mb-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(Calendar, {\n            className: \"text-primary-600 mr-2\",\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"font-medium\",\n            children: \"\\u041F\\u0440\\u0435\\u0434\\u0441\\u0442\\u043E\\u044F\\u0449\\u0438\\u0435 \\u0437\\u0430\\u0434\\u0430\\u0447\\u0438\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"text-primary-600 text-xs\",\n          onClick: () => navigate('/tasks'),\n          children: \"\\u0412\\u0441\\u0435 \\u0437\\u0430\\u0434\\u0430\\u0447\\u0438 \\u2192\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), tasksLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center py-3 text-gray-500\",\n        children: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 11\n      }, this) : cityTasks.length > 0 ? cityTasks.slice(0, 2).map(task => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3 border-l-3 border-primary-500 pl-2 py-1\",\n        onClick: () => navigate(`/tasks/${task.id}`),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"font-medium text-sm\",\n          children: task.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xs text-gray-600\",\n          children: renderEquipmentInfo(task.equipment)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xs text-gray-600 flex justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: task.location\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: task.due_date ? new Date(task.due_date).toLocaleDateString() : 'Не указано'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xs mt-1\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: `px-2 py-1 rounded-full ${task.priority === 'высокий' ? 'bg-red-100 text-red-800' : task.priority === 'средний' ? 'bg-yellow-100 text-yellow-800' : 'bg-green-100 text-green-800'}`,\n            children: task.priority\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 15\n        }, this)]\n      }, task.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 13\n      }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center py-3 text-gray-500\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"\\u041D\\u0435\\u0442 \\u0437\\u0430\\u0434\\u0430\\u0447 \\u0432 \\u0433\\u043E\\u0440\\u043E\\u0434\\u0435 \", currentCity]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"mt-2 text-primary-600 text-sm flex items-center justify-center mx-auto\",\n          onClick: () => navigate('/tasks/new'),\n          children: [/*#__PURE__*/_jsxDEV(Plus, {\n            size: 16,\n            className: \"mr-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 15\n          }, this), \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0437\\u0430\\u0434\\u0430\\u0447\\u0443\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between mb-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(Wrench, {\n            className: \"text-primary-600 mr-2\",\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"font-medium\",\n            children: [\"\\u041E\\u0431\\u043E\\u0440\\u0443\\u0434\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435 \\u0432 \", currentCity]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"text-primary-600 text-xs\",\n          onClick: () => navigate('/equipment'),\n          children: \"\\u0412\\u0441\\u0435 \\u0430\\u043F\\u043F\\u0430\\u0440\\u0430\\u0442\\u044B \\u2192\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }, this), equipmentLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center py-3 text-gray-500\",\n        children: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 11\n      }, this) : cityEquipment.length > 0 ? cityEquipment.map(equipment => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-2 py-1 flex justify-between items-center\",\n        onClick: () => navigate(`/equipment/${equipment.id}`),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm font-medium\",\n            children: [equipment.name, \" (\", equipment.serial_number, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs text-gray-600\",\n            children: equipment.location\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xs\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: `px-2 py-1 rounded-full ${equipment.status.includes('Требует') ? 'bg-yellow-100 text-yellow-800' : 'bg-green-100 text-green-800'}`,\n            children: equipment.status\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 15\n        }, this)]\n      }, equipment.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 13\n      }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center py-3 text-gray-500\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"\\u041D\\u0435\\u0442 \\u043E\\u0431\\u043E\\u0440\\u0443\\u0434\\u043E\\u0432\\u0430\\u043D\\u0438\\u044F \\u0432 \\u0433\\u043E\\u0440\\u043E\\u0434\\u0435 \", currentCity]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"mt-2 text-primary-600 text-sm flex items-center justify-center mx-auto\",\n          onClick: () => navigate('/equipment/new'),\n          children: [/*#__PURE__*/_jsxDEV(Plus, {\n            size: 16,\n            className: \"mr-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 15\n          }, this), \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u043E\\u0431\\u043E\\u0440\\u0443\\u0434\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 5\n  }, this);\n};\n_s(Dashboard, \"gqc8UNorsY3YVbI2+wB/cuONjIM=\", false, function () {\n  return [useNavigate, useAppDispatch, useAppSelector, useAppSelector, useAppSelector, useAppSelector];\n});\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useEffect","useState","useNavigate","Calendar","Wrench","Sun","Cloud","CloudRain","Plus","useAppSelector","useAppDispatch","fetchTasks","fetchEquipment","Card","jsxDEV","_jsxDEV","Dashboard","_s","navigate","dispatch","user","state","auth","city","currentCity","ui","tasks","loading","tasksLoading","equipment","equipmentLoading","weatherData","setWeatherData","day","temp","icon","cityTasks","filter","task","cityEquipment","eq","renderWeatherIcon","size","className","fileName","_jsxFileName","lineNumber","columnNumber","renderEquipmentInfo","name","serial_number","children","map","index","onClick","length","slice","id","title","location","due_date","Date","toLocaleDateString","priority","status","includes","_c","$RefreshReg$"],"sources":["C:/Users/Dauren/PycharmProjects/techtrack/techtrack/frontend/src/pages/Dashboard.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { Calendar, Wrench, Sun, Cloud, CloudRain, Plus } from 'lucide-react';\r\nimport { useAppSelector, useAppDispatch } from '../store/hooks';\r\nimport { fetchTasks } from '../store/slices/tasksSlice';\r\nimport { fetchEquipment } from '../store/slices/equipmentSlice';\r\nimport Card from '../components/ui/Card';\r\nimport { Task, Equipment, WeatherData } from '../types';\r\n\r\nconst Dashboard: React.FC = () => {\r\n  const navigate = useNavigate();\r\n  const dispatch = useAppDispatch();\r\n\r\n  const { user } = useAppSelector(state => state.auth);\r\n  const { city: currentCity } = useAppSelector(state => state.ui);\r\n  const { tasks, loading: tasksLoading } = useAppSelector(state => state.tasks);\r\n  const { equipment, loading: equipmentLoading } = useAppSelector(state => state.equipment);\r\n\r\n  // Mock weather data (would come from API in real app)\r\n  const [weatherData, setWeatherData] = useState<WeatherData[]>([\r\n    { day: 'Сегодня', temp: '22°C', icon: 'sun' },\r\n    { day: 'Завтра', temp: '20°C', icon: 'sun' },\r\n    { day: 'Пт', temp: '18°C', icon: 'cloud' },\r\n    { day: 'Сб', temp: '17°C', icon: 'cloud-rain' },\r\n    { day: 'Вс', temp: '19°C', icon: 'cloud' }\r\n  ]);\r\n\r\n  // Filter tasks for current city\r\n  const cityTasks = tasks.filter(task => task.city === currentCity);\r\n\r\n  // Filter equipment for current city\r\n  const cityEquipment = equipment.filter(eq => eq.city === currentCity);\r\n\r\n  useEffect(() => {\r\n    // Fetch tasks and equipment when the component mounts\r\n    dispatch(fetchTasks());\r\n    dispatch(fetchEquipment());\r\n  }, [dispatch]);\r\n\r\n  // Function to render weather icon\r\n  const renderWeatherIcon = (icon: string) => {\r\n    switch (icon) {\r\n      case 'sun':\r\n        return <Sun size={20} className=\"text-yellow-500\" />;\r\n      case 'cloud':\r\n        return <Cloud size={20} className=\"text-gray-500\" />;\r\n      case 'cloud-rain':\r\n        return <CloudRain size={20} className=\"text-blue-500\" />;\r\n      default:\r\n        return <Sun size={20} className=\"text-yellow-500\" />;\r\n    }\r\n  };\r\n\r\n  // Безопасное отображение данных оборудования\r\n  const renderEquipmentInfo = (equipment: Equipment | string | undefined) => {\r\n    if (!equipment) return 'Не указано';\r\n\r\n    // Если equipment - это объект с нужными свойствами\r\n    if (typeof equipment === 'object' && 'name' in equipment && 'serial_number' in equipment) {\r\n      return `${equipment.name} (${equipment.serial_number})`;\r\n    }\r\n\r\n    // Если equipment - это строка (ID или название)\r\n    if (typeof equipment === 'string') {\r\n      return equipment;\r\n    }\r\n\r\n    return 'Не указано';\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-3\">\r\n      {/* Weather forecast */}\r\n      <Card className=\"mb-3\">\r\n        <h3 className=\"text-sm font-medium mb-2\">Прогноз погоды в {currentCity}</h3>\r\n        <div className=\"flex justify-between\">\r\n          {weatherData.map((day, index) => (\r\n            <div key={index} className=\"flex flex-col items-center\">\r\n              <div className=\"text-xs mb-1\">{day.day}</div>\r\n              {renderWeatherIcon(day.icon)}\r\n              <div className=\"text-xs mt-1\">{day.temp}</div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </Card>\r\n\r\n      {/* Upcoming tasks in current city */}\r\n      <Card className=\"mb-3\">\r\n        <div className=\"flex items-center justify-between mb-2\">\r\n          <div className=\"flex items-center\">\r\n            <Calendar className=\"text-primary-600 mr-2\" size={18} />\r\n            <h2 className=\"font-medium\">Предстоящие задачи</h2>\r\n          </div>\r\n          <button\r\n            className=\"text-primary-600 text-xs\"\r\n            onClick={() => navigate('/tasks')}\r\n          >\r\n            Все задачи →\r\n          </button>\r\n        </div>\r\n\r\n        {tasksLoading ? (\r\n          <div className=\"text-center py-3 text-gray-500\">Загрузка...</div>\r\n        ) : cityTasks.length > 0 ? (\r\n          cityTasks.slice(0, 2).map(task => (\r\n            <div\r\n              key={task.id}\r\n              className=\"mb-3 border-l-3 border-primary-500 pl-2 py-1\"\r\n              onClick={() => navigate(`/tasks/${task.id}`)}\r\n            >\r\n              <div className=\"font-medium text-sm\">{task.title}</div>\r\n              {/* Безопасное отображение данных оборудования */}\r\n              <div className=\"text-xs text-gray-600\">{renderEquipmentInfo(task.equipment)}</div>\r\n              <div className=\"text-xs text-gray-600 flex justify-between\">\r\n                <span>{task.location}</span>\r\n                <span>{task.due_date ? new Date(task.due_date).toLocaleDateString() : 'Не указано'}</span>\r\n              </div>\r\n              <div className=\"text-xs mt-1\">\r\n                <span className={`px-2 py-1 rounded-full ${\r\n                  task.priority === 'высокий' ? 'bg-red-100 text-red-800' : \r\n                  task.priority === 'средний' ? 'bg-yellow-100 text-yellow-800' : \r\n                  'bg-green-100 text-green-800'\r\n                }`}>\r\n                  {task.priority}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          ))\r\n        ) : (\r\n          <div className=\"text-center py-3 text-gray-500\">\r\n            <p>Нет задач в городе {currentCity}</p>\r\n            <button\r\n              className=\"mt-2 text-primary-600 text-sm flex items-center justify-center mx-auto\"\r\n              onClick={() => navigate('/tasks/new')}\r\n            >\r\n              <Plus size={16} className=\"mr-1\" />\r\n              Добавить задачу\r\n            </button>\r\n          </div>\r\n        )}\r\n      </Card>\r\n\r\n      {/* Equipment in city */}\r\n      <Card>\r\n        <div className=\"flex items-center justify-between mb-2\">\r\n          <div className=\"flex items-center\">\r\n            <Wrench className=\"text-primary-600 mr-2\" size={18} />\r\n            <h2 className=\"font-medium\">Оборудование в {currentCity}</h2>\r\n          </div>\r\n          <button\r\n            className=\"text-primary-600 text-xs\"\r\n            onClick={() => navigate('/equipment')}\r\n          >\r\n            Все аппараты →\r\n          </button>\r\n        </div>\r\n\r\n        {equipmentLoading ? (\r\n          <div className=\"text-center py-3 text-gray-500\">Загрузка...</div>\r\n        ) : cityEquipment.length > 0 ? (\r\n          cityEquipment.map(equipment => (\r\n            <div\r\n              key={equipment.id}\r\n              className=\"mb-2 py-1 flex justify-between items-center\"\r\n              onClick={() => navigate(`/equipment/${equipment.id}`)}\r\n            >\r\n              <div>\r\n                <div className=\"text-sm font-medium\">{equipment.name} ({equipment.serial_number})</div>\r\n                <div className=\"text-xs text-gray-600\">{equipment.location}</div>\r\n              </div>\r\n              <div className=\"text-xs\">\r\n                <span className={`px-2 py-1 rounded-full ${\r\n                  equipment.status.includes('Требует') ? 'bg-yellow-100 text-yellow-800' : \r\n                  'bg-green-100 text-green-800'\r\n                }`}>\r\n                  {equipment.status}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          ))\r\n        ) : (\r\n          <div className=\"text-center py-3 text-gray-500\">\r\n            <p>Нет оборудования в городе {currentCity}</p>\r\n            <button\r\n              className=\"mt-2 text-primary-600 text-sm flex items-center justify-center mx-auto\"\r\n              onClick={() => navigate('/equipment/new')}\r\n            >\r\n              <Plus size={16} className=\"mr-1\" />\r\n              Добавить оборудование\r\n            </button>\r\n          </div>\r\n        )}\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}