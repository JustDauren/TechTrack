{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Dauren\\\\PycharmProjects\\\\techtrack\\\\techtrack\\\\frontend\\\\src\\\\pages\\\\Dashboard.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Calendar, Wrench, Sun, Cloud, CloudRain, Plus } from 'lucide-react';\nimport { useAppSelector, useAppDispatch } from '../store/hooks';\nimport { fetchTasks } from '../store/slices/tasksSlice';\nimport { fetchEquipment } from '../store/slices/equipmentSlice';\nimport Card from '../components/ui/Card';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Dashboard = () => {\n  _s();\n  const navigate = useNavigate();\n  const dispatch = useAppDispatch();\n  const {\n    user\n  } = useAppSelector(state => state.auth);\n  const {\n    city: currentCity\n  } = useAppSelector(state => state.ui);\n  const {\n    tasks,\n    loading: tasksLoading\n  } = useAppSelector(state => state.tasks);\n  const {\n    equipment,\n    loading: equipmentLoading\n  } = useAppSelector(state => state.equipment);\n\n  // Mock weather data (would come from API in real app)\n  const [weatherData, setWeatherData] = useState([{\n    day: 'Сегодня',\n    temp: '22°C',\n    icon: 'sun'\n  }, {\n    day: 'Завтра',\n    temp: '20°C',\n    icon: 'sun'\n  }, {\n    day: 'Пт',\n    temp: '18°C',\n    icon: 'cloud'\n  }, {\n    day: 'Сб',\n    temp: '17°C',\n    icon: 'cloud-rain'\n  }, {\n    day: 'Вс',\n    temp: '19°C',\n    icon: 'cloud'\n  }]);\n\n  // Filter tasks for current city\n  const cityTasks = tasks.filter(task => task.city === currentCity);\n\n  // Filter equipment for current city\n  const cityEquipment = equipment.filter(eq => eq.city === currentCity);\n  useEffect(() => {\n    // Fetch tasks and equipment when the component mounts\n    dispatch(fetchTasks());\n    dispatch(fetchEquipment());\n  }, [dispatch]);\n\n  // Function to render weather icon\n  const renderWeatherIcon = icon => {\n    switch (icon) {\n      case 'sun':\n        return /*#__PURE__*/_jsxDEV(Sun, {\n          size: 20,\n          className: \"text-yellow-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 16\n        }, this);\n      case 'cloud':\n        return /*#__PURE__*/_jsxDEV(Cloud, {\n          size: 20,\n          className: \"text-gray-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 16\n        }, this);\n      case 'cloud-rain':\n        return /*#__PURE__*/_jsxDEV(CloudRain, {\n          size: 20,\n          className: \"text-blue-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 16\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(Sun, {\n          size: 20,\n          className: \"text-yellow-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 16\n        }, this);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-3\",\n    children: [/*#__PURE__*/_jsxDEV(Card, {\n      className: \"mb-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-sm font-medium mb-2\",\n        children: [\"\\u041F\\u0440\\u043E\\u0433\\u043D\\u043E\\u0437 \\u043F\\u043E\\u0433\\u043E\\u0434\\u044B \\u0432 \", currentCity]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between\",\n        children: weatherData.map((day, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs mb-1\",\n            children: day.day\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 15\n          }, this), renderWeatherIcon(day.icon), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs mt-1\",\n            children: day.temp\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 15\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      className: \"mb-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between mb-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(Calendar, {\n            className: \"text-primary-600 mr-2\",\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"font-medium\",\n            children: \"\\u041F\\u0440\\u0435\\u0434\\u0441\\u0442\\u043E\\u044F\\u0449\\u0438\\u0435 \\u0437\\u0430\\u0434\\u0430\\u0447\\u0438\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"text-primary-600 text-xs\",\n          onClick: () => navigate('/tasks'),\n          children: \"\\u0412\\u0441\\u0435 \\u0437\\u0430\\u0434\\u0430\\u0447\\u0438 \\u2192\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), tasksLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center py-3 text-gray-500\",\n        children: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 11\n      }, this) : cityTasks.length > 0 ? cityTasks.slice(0, 2).map(task => {\n        var _task$equipment, _task$equipment2;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3 border-l-3 border-primary-500 pl-2 py-1\",\n          onClick: () => navigate(`/tasks/${task.id}`),\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"font-medium text-sm\",\n            children: task.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs text-gray-600\",\n            children: [(_task$equipment = task.equipment) === null || _task$equipment === void 0 ? void 0 : _task$equipment.name, \" (\", (_task$equipment2 = task.equipment) === null || _task$equipment2 === void 0 ? void 0 : _task$equipment2.serial_number, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs text-gray-600 flex justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: task.location\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: new Date(task.due_date || '').toLocaleDateString()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs mt-1\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: `px-2 py-1 rounded-full ${task.priority === 'высокий' ? 'bg-red-100 text-red-800' : task.priority === 'средний' ? 'bg-yellow-100 text-yellow-800' : 'bg-green-100 text-green-800'}`,\n              children: task.priority\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 15\n          }, this)]\n        }, task.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 13\n        }, this);\n      }) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center py-3 text-gray-500\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"\\u041D\\u0435\\u0442 \\u0437\\u0430\\u0434\\u0430\\u0447 \\u0432 \\u0433\\u043E\\u0440\\u043E\\u0434\\u0435 \", currentCity]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"mt-2 text-primary-600 text-sm flex items-center justify-center mx-auto\",\n          onClick: () => navigate('/tasks/new'),\n          children: [/*#__PURE__*/_jsxDEV(Plus, {\n            size: 16,\n            className: \"mr-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 15\n          }, this), \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0437\\u0430\\u0434\\u0430\\u0447\\u0443\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between mb-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(Wrench, {\n            className: \"text-primary-600 mr-2\",\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"font-medium\",\n            children: [\"\\u041E\\u0431\\u043E\\u0440\\u0443\\u0434\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435 \\u0432 \", currentCity]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"text-primary-600 text-xs\",\n          onClick: () => navigate('/equipment'),\n          children: \"\\u0412\\u0441\\u0435 \\u0430\\u043F\\u043F\\u0430\\u0440\\u0430\\u0442\\u044B \\u2192\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }, this), equipmentLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center py-3 text-gray-500\",\n        children: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 11\n      }, this) : cityEquipment.length > 0 ? cityEquipment.map(equipment => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-2 py-1 flex justify-between items-center\",\n        onClick: () => navigate(`/equipment/${equipment.id}`),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm font-medium\",\n            children: [equipment.name, \" (\", equipment.serial_number, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs text-gray-600\",\n            children: equipment.location\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xs\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: `px-2 py-1 rounded-full ${equipment.status.includes('Требует') ? 'bg-yellow-100 text-yellow-800' : 'bg-green-100 text-green-800'}`,\n            children: equipment.status\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 15\n        }, this)]\n      }, equipment.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 13\n      }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center py-3 text-gray-500\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"\\u041D\\u0435\\u0442 \\u043E\\u0431\\u043E\\u0440\\u0443\\u0434\\u043E\\u0432\\u0430\\u043D\\u0438\\u044F \\u0432 \\u0433\\u043E\\u0440\\u043E\\u0434\\u0435 \", currentCity]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"mt-2 text-primary-600 text-sm flex items-center justify-center mx-auto\",\n          onClick: () => navigate('/equipment/new'),\n          children: [/*#__PURE__*/_jsxDEV(Plus, {\n            size: 16,\n            className: \"mr-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 15\n          }, this), \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u043E\\u0431\\u043E\\u0440\\u0443\\u0434\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n};\n_s(Dashboard, \"gqc8UNorsY3YVbI2+wB/cuONjIM=\", false, function () {\n  return [useNavigate, useAppDispatch, useAppSelector, useAppSelector, useAppSelector, useAppSelector];\n});\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useEffect","useState","useNavigate","Calendar","Wrench","Sun","Cloud","CloudRain","Plus","useAppSelector","useAppDispatch","fetchTasks","fetchEquipment","Card","jsxDEV","_jsxDEV","Dashboard","_s","navigate","dispatch","user","state","auth","city","currentCity","ui","tasks","loading","tasksLoading","equipment","equipmentLoading","weatherData","setWeatherData","day","temp","icon","cityTasks","filter","task","cityEquipment","eq","renderWeatherIcon","size","className","fileName","_jsxFileName","lineNumber","columnNumber","children","map","index","onClick","length","slice","_task$equipment","_task$equipment2","id","title","name","serial_number","location","Date","due_date","toLocaleDateString","priority","status","includes","_c","$RefreshReg$"],"sources":["C:/Users/Dauren/PycharmProjects/techtrack/techtrack/frontend/src/pages/Dashboard.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { Calendar, Wrench, Sun, Cloud, CloudRain, Plus } from 'lucide-react';\r\nimport { useAppSelector, useAppDispatch } from '../store/hooks';\r\nimport { fetchTasks } from '../store/slices/tasksSlice';\r\nimport { fetchEquipment } from '../store/slices/equipmentSlice';\r\nimport Card from '../components/ui/Card';\r\nimport { Task, Equipment, WeatherData } from '../types';\r\n\r\nconst Dashboard: React.FC = () => {\r\n  const navigate = useNavigate();\r\n  const dispatch = useAppDispatch();\r\n\r\n  const { user } = useAppSelector(state => state.auth);\r\n  const { city: currentCity } = useAppSelector(state => state.ui);\r\n  const { tasks, loading: tasksLoading } = useAppSelector(state => state.tasks);\r\n  const { equipment, loading: equipmentLoading } = useAppSelector(state => state.equipment);\r\n\r\n  // Mock weather data (would come from API in real app)\r\n  const [weatherData, setWeatherData] = useState<WeatherData[]>([\r\n    { day: 'Сегодня', temp: '22°C', icon: 'sun' },\r\n    { day: 'Завтра', temp: '20°C', icon: 'sun' },\r\n    { day: 'Пт', temp: '18°C', icon: 'cloud' },\r\n    { day: 'Сб', temp: '17°C', icon: 'cloud-rain' },\r\n    { day: 'Вс', temp: '19°C', icon: 'cloud' }\r\n  ]);\r\n\r\n  // Filter tasks for current city\r\n  const cityTasks = tasks.filter(task => task.city === currentCity);\r\n\r\n  // Filter equipment for current city\r\n  const cityEquipment = equipment.filter(eq => eq.city === currentCity);\r\n\r\n  useEffect(() => {\r\n    // Fetch tasks and equipment when the component mounts\r\n    dispatch(fetchTasks());\r\n    dispatch(fetchEquipment());\r\n  }, [dispatch]);\r\n\r\n  // Function to render weather icon\r\n  const renderWeatherIcon = (icon: string) => {\r\n    switch (icon) {\r\n      case 'sun':\r\n        return <Sun size={20} className=\"text-yellow-500\" />;\r\n      case 'cloud':\r\n        return <Cloud size={20} className=\"text-gray-500\" />;\r\n      case 'cloud-rain':\r\n        return <CloudRain size={20} className=\"text-blue-500\" />;\r\n      default:\r\n        return <Sun size={20} className=\"text-yellow-500\" />;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-3\">\r\n      {/* Weather forecast */}\r\n      <Card className=\"mb-3\">\r\n        <h3 className=\"text-sm font-medium mb-2\">Прогноз погоды в {currentCity}</h3>\r\n        <div className=\"flex justify-between\">\r\n          {weatherData.map((day, index) => (\r\n            <div key={index} className=\"flex flex-col items-center\">\r\n              <div className=\"text-xs mb-1\">{day.day}</div>\r\n              {renderWeatherIcon(day.icon)}\r\n              <div className=\"text-xs mt-1\">{day.temp}</div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </Card>\r\n\r\n      {/* Upcoming tasks in current city */}\r\n      <Card className=\"mb-3\">\r\n        <div className=\"flex items-center justify-between mb-2\">\r\n          <div className=\"flex items-center\">\r\n            <Calendar className=\"text-primary-600 mr-2\" size={18} />\r\n            <h2 className=\"font-medium\">Предстоящие задачи</h2>\r\n          </div>\r\n          <button\r\n            className=\"text-primary-600 text-xs\"\r\n            onClick={() => navigate('/tasks')}\r\n          >\r\n            Все задачи →\r\n          </button>\r\n        </div>\r\n\r\n        {tasksLoading ? (\r\n          <div className=\"text-center py-3 text-gray-500\">Загрузка...</div>\r\n        ) : cityTasks.length > 0 ? (\r\n          cityTasks.slice(0, 2).map(task => (\r\n            <div\r\n              key={task.id}\r\n              className=\"mb-3 border-l-3 border-primary-500 pl-2 py-1\"\r\n              onClick={() => navigate(`/tasks/${task.id}`)}\r\n            >\r\n              <div className=\"font-medium text-sm\">{task.title}</div>\r\n              <div className=\"text-xs text-gray-600\">{task.equipment?.name} ({task.equipment?.serial_number})</div>\r\n              <div className=\"text-xs text-gray-600 flex justify-between\">\r\n                <span>{task.location}</span>\r\n                <span>{new Date(task.due_date || '').toLocaleDateString()}</span>\r\n              </div>\r\n              <div className=\"text-xs mt-1\">\r\n                <span className={`px-2 py-1 rounded-full ${\r\n                  task.priority === 'высокий' ? 'bg-red-100 text-red-800' : \r\n                  task.priority === 'средний' ? 'bg-yellow-100 text-yellow-800' : \r\n                  'bg-green-100 text-green-800'\r\n                }`}>\r\n                  {task.priority}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          ))\r\n        ) : (\r\n          <div className=\"text-center py-3 text-gray-500\">\r\n            <p>Нет задач в городе {currentCity}</p>\r\n            <button\r\n              className=\"mt-2 text-primary-600 text-sm flex items-center justify-center mx-auto\"\r\n              onClick={() => navigate('/tasks/new')}\r\n            >\r\n              <Plus size={16} className=\"mr-1\" />\r\n              Добавить задачу\r\n            </button>\r\n          </div>\r\n        )}\r\n      </Card>\r\n\r\n      {/* Equipment in city */}\r\n      <Card>\r\n        <div className=\"flex items-center justify-between mb-2\">\r\n          <div className=\"flex items-center\">\r\n            <Wrench className=\"text-primary-600 mr-2\" size={18} />\r\n            <h2 className=\"font-medium\">Оборудование в {currentCity}</h2>\r\n          </div>\r\n          <button\r\n            className=\"text-primary-600 text-xs\"\r\n            onClick={() => navigate('/equipment')}\r\n          >\r\n            Все аппараты →\r\n          </button>\r\n        </div>\r\n\r\n        {equipmentLoading ? (\r\n          <div className=\"text-center py-3 text-gray-500\">Загрузка...</div>\r\n        ) : cityEquipment.length > 0 ? (\r\n          cityEquipment.map(equipment => (\r\n            <div\r\n              key={equipment.id}\r\n              className=\"mb-2 py-1 flex justify-between items-center\"\r\n              onClick={() => navigate(`/equipment/${equipment.id}`)}\r\n            >\r\n              <div>\r\n                <div className=\"text-sm font-medium\">{equipment.name} ({equipment.serial_number})</div>\r\n                <div className=\"text-xs text-gray-600\">{equipment.location}</div>\r\n              </div>\r\n              <div className=\"text-xs\">\r\n                <span className={`px-2 py-1 rounded-full ${\r\n                  equipment.status.includes('Требует') ? 'bg-yellow-100 text-yellow-800' : \r\n                  'bg-green-100 text-green-800'\r\n                }`}>\r\n                  {equipment.status}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          ))\r\n        ) : (\r\n          <div className=\"text-center py-3 text-gray-500\">\r\n            <p>Нет оборудования в городе {currentCity}</p>\r\n            <button\r\n              className=\"mt-2 text-primary-600 text-sm flex items-center justify-center mx-auto\"\r\n              onClick={() => navigate('/equipment/new')}\r\n            >\r\n              <Plus size={16} className=\"mr-1\" />\r\n              Добавить оборудование\r\n            </button>\r\n          </div>\r\n        )}\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dashboard;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,QAAQ,EAAEC,MAAM,EAAEC,GAAG,EAAEC,KAAK,EAAEC,SAAS,EAAEC,IAAI,QAAQ,cAAc;AAC5E,SAASC,cAAc,EAAEC,cAAc,QAAQ,gBAAgB;AAC/D,SAASC,UAAU,QAAQ,4BAA4B;AACvD,SAASC,cAAc,QAAQ,gCAAgC;AAC/D,OAAOC,IAAI,MAAM,uBAAuB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAGzC,MAAMC,SAAmB,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAChC,MAAMC,QAAQ,GAAGhB,WAAW,CAAC,CAAC;EAC9B,MAAMiB,QAAQ,GAAGT,cAAc,CAAC,CAAC;EAEjC,MAAM;IAAEU;EAAK,CAAC,GAAGX,cAAc,CAACY,KAAK,IAAIA,KAAK,CAACC,IAAI,CAAC;EACpD,MAAM;IAAEC,IAAI,EAAEC;EAAY,CAAC,GAAGf,cAAc,CAACY,KAAK,IAAIA,KAAK,CAACI,EAAE,CAAC;EAC/D,MAAM;IAAEC,KAAK;IAAEC,OAAO,EAAEC;EAAa,CAAC,GAAGnB,cAAc,CAACY,KAAK,IAAIA,KAAK,CAACK,KAAK,CAAC;EAC7E,MAAM;IAAEG,SAAS;IAAEF,OAAO,EAAEG;EAAiB,CAAC,GAAGrB,cAAc,CAACY,KAAK,IAAIA,KAAK,CAACQ,SAAS,CAAC;;EAEzF;EACA,MAAM,CAACE,WAAW,EAAEC,cAAc,CAAC,GAAG/B,QAAQ,CAAgB,CAC5D;IAAEgC,GAAG,EAAE,SAAS;IAAEC,IAAI,EAAE,MAAM;IAAEC,IAAI,EAAE;EAAM,CAAC,EAC7C;IAAEF,GAAG,EAAE,QAAQ;IAAEC,IAAI,EAAE,MAAM;IAAEC,IAAI,EAAE;EAAM,CAAC,EAC5C;IAAEF,GAAG,EAAE,IAAI;IAAEC,IAAI,EAAE,MAAM;IAAEC,IAAI,EAAE;EAAQ,CAAC,EAC1C;IAAEF,GAAG,EAAE,IAAI;IAAEC,IAAI,EAAE,MAAM;IAAEC,IAAI,EAAE;EAAa,CAAC,EAC/C;IAAEF,GAAG,EAAE,IAAI;IAAEC,IAAI,EAAE,MAAM;IAAEC,IAAI,EAAE;EAAQ,CAAC,CAC3C,CAAC;;EAEF;EACA,MAAMC,SAAS,GAAGV,KAAK,CAACW,MAAM,CAACC,IAAI,IAAIA,IAAI,CAACf,IAAI,KAAKC,WAAW,CAAC;;EAEjE;EACA,MAAMe,aAAa,GAAGV,SAAS,CAACQ,MAAM,CAACG,EAAE,IAAIA,EAAE,CAACjB,IAAI,KAAKC,WAAW,CAAC;EAErExB,SAAS,CAAC,MAAM;IACd;IACAmB,QAAQ,CAACR,UAAU,CAAC,CAAC,CAAC;IACtBQ,QAAQ,CAACP,cAAc,CAAC,CAAC,CAAC;EAC5B,CAAC,EAAE,CAACO,QAAQ,CAAC,CAAC;;EAEd;EACA,MAAMsB,iBAAiB,GAAIN,IAAY,IAAK;IAC1C,QAAQA,IAAI;MACV,KAAK,KAAK;QACR,oBAAOpB,OAAA,CAACV,GAAG;UAACqC,IAAI,EAAE,EAAG;UAACC,SAAS,EAAC;QAAiB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MACtD,KAAK,OAAO;QACV,oBAAOhC,OAAA,CAACT,KAAK;UAACoC,IAAI,EAAE,EAAG;UAACC,SAAS,EAAC;QAAe;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MACtD,KAAK,YAAY;QACf,oBAAOhC,OAAA,CAACR,SAAS;UAACmC,IAAI,EAAE,EAAG;UAACC,SAAS,EAAC;QAAe;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MAC1D;QACE,oBAAOhC,OAAA,CAACV,GAAG;UAACqC,IAAI,EAAE,EAAG;UAACC,SAAS,EAAC;QAAiB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;IACxD;EACF,CAAC;EAED,oBACEhC,OAAA;IAAK4B,SAAS,EAAC,KAAK;IAAAK,QAAA,gBAElBjC,OAAA,CAACF,IAAI;MAAC8B,SAAS,EAAC,MAAM;MAAAK,QAAA,gBACpBjC,OAAA;QAAI4B,SAAS,EAAC,0BAA0B;QAAAK,QAAA,GAAC,yFAAiB,EAACxB,WAAW;MAAA;QAAAoB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eAC5EhC,OAAA;QAAK4B,SAAS,EAAC,sBAAsB;QAAAK,QAAA,EAClCjB,WAAW,CAACkB,GAAG,CAAC,CAAChB,GAAG,EAAEiB,KAAK,kBAC1BnC,OAAA;UAAiB4B,SAAS,EAAC,4BAA4B;UAAAK,QAAA,gBACrDjC,OAAA;YAAK4B,SAAS,EAAC,cAAc;YAAAK,QAAA,EAAEf,GAAG,CAACA;UAAG;YAAAW,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,EAC5CN,iBAAiB,CAACR,GAAG,CAACE,IAAI,CAAC,eAC5BpB,OAAA;YAAK4B,SAAS,EAAC,cAAc;YAAAK,QAAA,EAAEf,GAAG,CAACC;UAAI;YAAAU,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA,GAHtCG,KAAK;UAAAN,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAIV,CACN;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACF,CAAC,eAGPhC,OAAA,CAACF,IAAI;MAAC8B,SAAS,EAAC,MAAM;MAAAK,QAAA,gBACpBjC,OAAA;QAAK4B,SAAS,EAAC,wCAAwC;QAAAK,QAAA,gBACrDjC,OAAA;UAAK4B,SAAS,EAAC,mBAAmB;UAAAK,QAAA,gBAChCjC,OAAA,CAACZ,QAAQ;YAACwC,SAAS,EAAC,uBAAuB;YAACD,IAAI,EAAE;UAAG;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eACxDhC,OAAA;YAAI4B,SAAS,EAAC,aAAa;YAAAK,QAAA,EAAC;UAAkB;YAAAJ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAChD,CAAC,eACNhC,OAAA;UACE4B,SAAS,EAAC,0BAA0B;UACpCQ,OAAO,EAAEA,CAAA,KAAMjC,QAAQ,CAAC,QAAQ,CAAE;UAAA8B,QAAA,EACnC;QAED;UAAAJ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC,EAELnB,YAAY,gBACXb,OAAA;QAAK4B,SAAS,EAAC,gCAAgC;QAAAK,QAAA,EAAC;MAAW;QAAAJ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,GAC/DX,SAAS,CAACgB,MAAM,GAAG,CAAC,GACtBhB,SAAS,CAACiB,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAACJ,GAAG,CAACX,IAAI;QAAA,IAAAgB,eAAA,EAAAC,gBAAA;QAAA,oBAC5BxC,OAAA;UAEE4B,SAAS,EAAC,8CAA8C;UACxDQ,OAAO,EAAEA,CAAA,KAAMjC,QAAQ,CAAC,UAAUoB,IAAI,CAACkB,EAAE,EAAE,CAAE;UAAAR,QAAA,gBAE7CjC,OAAA;YAAK4B,SAAS,EAAC,qBAAqB;YAAAK,QAAA,EAAEV,IAAI,CAACmB;UAAK;YAAAb,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eACvDhC,OAAA;YAAK4B,SAAS,EAAC,uBAAuB;YAAAK,QAAA,IAAAM,eAAA,GAAEhB,IAAI,CAACT,SAAS,cAAAyB,eAAA,uBAAdA,eAAA,CAAgBI,IAAI,EAAC,IAAE,GAAAH,gBAAA,GAACjB,IAAI,CAACT,SAAS,cAAA0B,gBAAA,uBAAdA,gBAAA,CAAgBI,aAAa,EAAC,GAAC;UAAA;YAAAf,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eACrGhC,OAAA;YAAK4B,SAAS,EAAC,4CAA4C;YAAAK,QAAA,gBACzDjC,OAAA;cAAAiC,QAAA,EAAOV,IAAI,CAACsB;YAAQ;cAAAhB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eAC5BhC,OAAA;cAAAiC,QAAA,EAAO,IAAIa,IAAI,CAACvB,IAAI,CAACwB,QAAQ,IAAI,EAAE,CAAC,CAACC,kBAAkB,CAAC;YAAC;cAAAnB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC9D,CAAC,eACNhC,OAAA;YAAK4B,SAAS,EAAC,cAAc;YAAAK,QAAA,eAC3BjC,OAAA;cAAM4B,SAAS,EAAE,0BACfL,IAAI,CAAC0B,QAAQ,KAAK,SAAS,GAAG,yBAAyB,GACvD1B,IAAI,CAAC0B,QAAQ,KAAK,SAAS,GAAG,+BAA+B,GAC7D,6BAA6B,EAC5B;cAAAhB,QAAA,EACAV,IAAI,CAAC0B;YAAQ;cAAApB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACV;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACJ,CAAC;QAAA,GAlBDT,IAAI,CAACkB,EAAE;UAAAZ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAmBT,CAAC;MAAA,CACP,CAAC,gBAEFhC,OAAA;QAAK4B,SAAS,EAAC,gCAAgC;QAAAK,QAAA,gBAC7CjC,OAAA;UAAAiC,QAAA,GAAG,gGAAmB,EAACxB,WAAW;QAAA;UAAAoB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACvChC,OAAA;UACE4B,SAAS,EAAC,wEAAwE;UAClFQ,OAAO,EAAEA,CAAA,KAAMjC,QAAQ,CAAC,YAAY,CAAE;UAAA8B,QAAA,gBAEtCjC,OAAA,CAACP,IAAI;YAACkC,IAAI,EAAE,EAAG;YAACC,SAAS,EAAC;UAAM;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,yFAErC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CACN;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACG,CAAC,eAGPhC,OAAA,CAACF,IAAI;MAAAmC,QAAA,gBACHjC,OAAA;QAAK4B,SAAS,EAAC,wCAAwC;QAAAK,QAAA,gBACrDjC,OAAA;UAAK4B,SAAS,EAAC,mBAAmB;UAAAK,QAAA,gBAChCjC,OAAA,CAACX,MAAM;YAACuC,SAAS,EAAC,uBAAuB;YAACD,IAAI,EAAE;UAAG;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eACtDhC,OAAA;YAAI4B,SAAS,EAAC,aAAa;YAAAK,QAAA,GAAC,kFAAe,EAACxB,WAAW;UAAA;YAAAoB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC1D,CAAC,eACNhC,OAAA;UACE4B,SAAS,EAAC,0BAA0B;UACpCQ,OAAO,EAAEA,CAAA,KAAMjC,QAAQ,CAAC,YAAY,CAAE;UAAA8B,QAAA,EACvC;QAED;UAAAJ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC,EAELjB,gBAAgB,gBACff,OAAA;QAAK4B,SAAS,EAAC,gCAAgC;QAAAK,QAAA,EAAC;MAAW;QAAAJ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,GAC/DR,aAAa,CAACa,MAAM,GAAG,CAAC,GAC1Bb,aAAa,CAACU,GAAG,CAACpB,SAAS,iBACzBd,OAAA;QAEE4B,SAAS,EAAC,6CAA6C;QACvDQ,OAAO,EAAEA,CAAA,KAAMjC,QAAQ,CAAC,cAAcW,SAAS,CAAC2B,EAAE,EAAE,CAAE;QAAAR,QAAA,gBAEtDjC,OAAA;UAAAiC,QAAA,gBACEjC,OAAA;YAAK4B,SAAS,EAAC,qBAAqB;YAAAK,QAAA,GAAEnB,SAAS,CAAC6B,IAAI,EAAC,IAAE,EAAC7B,SAAS,CAAC8B,aAAa,EAAC,GAAC;UAAA;YAAAf,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eACvFhC,OAAA;YAAK4B,SAAS,EAAC,uBAAuB;YAAAK,QAAA,EAAEnB,SAAS,CAAC+B;UAAQ;YAAAhB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC9D,CAAC,eACNhC,OAAA;UAAK4B,SAAS,EAAC,SAAS;UAAAK,QAAA,eACtBjC,OAAA;YAAM4B,SAAS,EAAE,0BACfd,SAAS,CAACoC,MAAM,CAACC,QAAQ,CAAC,SAAS,CAAC,GAAG,+BAA+B,GACtE,6BAA6B,EAC5B;YAAAlB,QAAA,EACAnB,SAAS,CAACoC;UAAM;YAAArB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACb;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACJ,CAAC;MAAA,GAfDlB,SAAS,CAAC2B,EAAE;QAAAZ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAgBd,CACN,CAAC,gBAEFhC,OAAA;QAAK4B,SAAS,EAAC,gCAAgC;QAAAK,QAAA,gBAC7CjC,OAAA;UAAAiC,QAAA,GAAG,0IAA0B,EAACxB,WAAW;QAAA;UAAAoB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAC9ChC,OAAA;UACE4B,SAAS,EAAC,wEAAwE;UAClFQ,OAAO,EAAEA,CAAA,KAAMjC,QAAQ,CAAC,gBAAgB,CAAE;UAAA8B,QAAA,gBAE1CjC,OAAA,CAACP,IAAI;YAACkC,IAAI,EAAE,EAAG;YAACC,SAAS,EAAC;UAAM;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,6HAErC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CACN;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACG,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACJ,CAAC;AAEV,CAAC;AAAC9B,EAAA,CAxKID,SAAmB;EAAA,QACNd,WAAW,EACXQ,cAAc,EAEdD,cAAc,EACDA,cAAc,EACHA,cAAc,EACNA,cAAc;AAAA;AAAA0D,EAAA,GAP3DnD,SAAmB;AA0KzB,eAAeA,SAAS;AAAC,IAAAmD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}